/**
 * jQuery meanMenu v2.0
 * Copyright (C) 2012-2013 Chris Wharton (themes@meanthemes.com)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * THIS SOFTWARE AND DOCUMENTATION IS PROVIDED "AS IS," AND COPYRIGHT
 * HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR
 * FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE
 * OR DOCUMENTATION WILL NOT INFRINGE ANY THIRD PARTY PATENTS,
 * COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.COPYRIGHT HOLDERS WILL NOT
 * BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL
 * DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENTATION.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http://gnu.org/licenses/>.
 *
 * Find more information at http://www.meanthemes.com/plugins/meanmenu/
 *
 */(function(e){e.fn.meanmenu=function(t){var n={meanMenuTarget:jQuery(this),meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanRevealHoverColour:"",meanScreenWidth:"979",meanNavPush:"",meanShowChildren:!0,meanExpandableChildren:!0,meanExpand:"+",meanContract:"-",meanRemoveAttrs:!1},t=e.extend(n,t);currentWidth=window.innerWidth||document.documentElement.clientWidth;return this.each(function(){function g(){if(o=="center"){var e=window.innerWidth||document.documentElement.clientWidth,t=e/2-22+"px";meanRevealPos="left:"+t+";right:auto;";m?jQuery(".meanmenu-reveal").animate({left:t}):jQuery(".meanmenu-reveal").css("left",t)}}function y(){jQuery($navreveal).is(".meanmenu-reveal.meanclose")?$navreveal.html(r):$navreveal.html(s)}function b(){jQuery(".mean-bar,.mean-push").remove();jQuery("body").removeClass("mean-container");jQuery(e).show();menuOn=!1;meanMenuExist=!1}function w(){if(currentWidth<=l){meanMenuExist=!0;jQuery("body").addClass("mean-container");jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+meanStyles+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var t=jQuery(e).html();jQuery(".mean-nav").html(t);v&&jQuery("nav.mean-nav *").each(function(){jQuery(this).removeAttr("class");jQuery(this).removeAttr("id")});jQuery(e).before('<div class="mean-push" />');jQuery(".mean-push").css("margin-top",c);jQuery(e).hide();jQuery(".meanmenu-reveal").show();jQuery(h).html(s);$navreveal=jQuery(h);jQuery(".mean-nav ul").hide();if(meanShowChildren)if(meanExpandableChildren){jQuery(".mean-nav ul ul").each(function(){jQuery(this).children().length&&jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+i+'">'+p+"</a>")});jQuery(".mean-expand").on("click",function(e){e.preventDefault();if(jQuery(this).hasClass("mean-clicked")){jQuery(this).text(p);console.log("Been clicked");jQuery(this).prev("ul").slideUp(300,function(){})}else{jQuery(this).text(d);jQuery(this).prev("ul").slideDown(300,function(){})}jQuery(this).toggleClass("mean-clicked")})}else jQuery(".mean-nav ul ul").show();else jQuery(".mean-nav ul ul").hide();jQuery(".mean-nav ul li").last().addClass("mean-last");$navreveal.removeClass("meanclose");jQuery($navreveal).click(function(e){e.preventDefault();if(menuOn==0){$navreveal.css("text-align","center");$navreveal.css("text-indent","0");$navreveal.css("font-size",i);jQuery(".mean-nav ul:first").slideDown();menuOn=!0}else{jQuery(".mean-nav ul:first").slideUp();menuOn=!1}$navreveal.toggleClass("meanclose");y()})}else b()}var e=t.meanMenuTarget,n=t.meanReveal,r=t.meanMenuClose,i=t.meanMenuCloseSize,s=t.meanMenuOpen,o=t.meanRevealPosition,u=t.meanRevealPositionDistance,a=t.meanRevealColour,f=t.meanRevealHoverColour,l=t.meanScreenWidth,c=t.meanNavPush,h=".meanmenu-reveal";meanShowChildren=t.meanShowChildren;meanExpandableChildren=t.meanExpandableChildren;var p=t.meanExpand,d=t.meanContract,v=t.meanRemoveAttrs;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Blackberry/i)||navigator.userAgent.match(/Windows Phone/i))var m=!0;(navigator.userAgent.match(/MSIE 8/i)||navigator.userAgent.match(/MSIE 7/i))&&jQuery("html").css("overflow-y","scroll");menuOn=!1;meanMenuExist=!1;o=="right"&&(meanRevealPos="right:"+u+";left:auto;");o=="left"&&(meanRevealPos="left:"+u+";right:auto;");g();meanStyles="background:"+a+";color:"+a+";"+meanRevealPos;m||jQuery(window).resize(function(){currentWidth=window.innerWidth||document.documentElement.clientWidth;currentWidth>l?b():b();if(currentWidth<=l){w();g()}else b()});window.onorientationchange=function(){g();currentWidth=window.innerWidth||document.documentElement.clientWidth;currentWidth>=l&&b();currentWidth<=l&&meanMenuExist==0&&w()};w()})}})(jQuery);